#!/usr/bin/env python

# ATTENTION!
# Please do not manually edit the contents of this file
# Only use the web interface for editing
# Otherwise, the file may no longer be editable using the web interface, or you changes may be lost

# Copyright (c) 2016 mindsensors.com
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License version 2 as
# published by the Free Software Foundation.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.    See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
#
#mindsensors.com invests time and resources providing this open source code,
#please support mindsensors.com  by purchasing products from mindsensors.com!
#Learn more product option visit us @  http://www.mindsensors.com

"""
--BLOCKLY FILE--
--START BLOCKS--
PHhtbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PGJsb2NrIHR5cGU9InNjcmVlbl9kcmF3dGl0bGUiIGlkPSJ8NTplUERSfm4/VjFHLlk7XXNAayIgeD0iOSIgeT0iMTQiPjxmaWVsZCBuYW1lPSJESVNQTEFZIj5UUlVFPC9maWVsZD48dmFsdWUgbmFtZT0iVEVYVCI+PHNoYWRvdyB0eXBlPSJ0ZXh0IiBpZD0ifWdCbWJjVj11LT0hRzBdeD1OcmsiPjxmaWVsZCBuYW1lPSJURVhUIj5TZW5zb3IgRGVtbzwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT48bmV4dD48YmxvY2sgdHlwZT0idGVybWluYWxfcHJpbnRsbiIgaWQ9Ikc/LXpJO2o/cW9FMF80fkRZK3VjIj48dmFsdWUgbmFtZT0idGV4dCI+PHNoYWRvdyB0eXBlPSJ0ZXh0IiBpZD0iYngwY1RCQ1s3aF9Oa3RGTXgxNWkiPjxmaWVsZCBuYW1lPSJURVhUIj5OWFQgVG91Y2ggU2Vuc29yIGF0IEJBUzE8L2ZpZWxkPjwvc2hhZG93PjwvdmFsdWU+PG5leHQ+PGJsb2NrIHR5cGU9InRlcm1pbmFsX3ByaW50bG4iIGlkPSJtZ049R1Q0aHhzblMjaF00NlBJdCI+PHZhbHVlIG5hbWU9InRleHQiPjxzaGFkb3cgdHlwZT0idGV4dCIgaWQ9Im9eMEU1fmVDZ2shQlRYalY5ZTRZIj48ZmllbGQgbmFtZT0iVEVYVCI+RVYzIFRvdWNoIFNlbnNvciBhdCBCQVMyPC9maWVsZD48L3NoYWRvdz48L3ZhbHVlPjxuZXh0PjxibG9jayB0eXBlPSJ0ZXJtaW5hbF9wcmludGxuIiBpZD0iNkA1IzYyVWYxW3NRRkNiTzZLel4iPjx2YWx1ZSBuYW1lPSJ0ZXh0Ij48c2hhZG93IHR5cGU9InRleHQiIGlkPSJNfDVkQEEoNVJALVtLKCNPa1R4MCI+PGZpZWxkIG5hbWU9IlRFWFQiPkVWMyBVbHRyYXNvbmljIFNlbnNvciBhdCBCQlMxPC9maWVsZD48L3NoYWRvdz48L3ZhbHVlPjxuZXh0PjxibG9jayB0eXBlPSJzeXN0ZW1fc2xlZXAiIGlkPSItLERxQXVBVUlZTzI2czZWO1pUaCI+PHZhbHVlIG5hbWU9IlRJTUUiPjxzaGFkb3cgdHlwZT0ibWF0aF9udW1iZXIiIGlkPSJWYmNxIy0jbHhuM3dPcTF2LVtsKyI+PGZpZWxkIG5hbWU9Ik5VTSI+MTwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjxibG9jayB0eXBlPSJjb250cm9sc193aGlsZVVudGlsIiBpZD0iQTNRKF1XUlpIK0VIMWlpZUVjYmYiIHg9IjE2IiB5PSIzNjEiPjxmaWVsZCBuYW1lPSJNT0RFIj5XSElMRTwvZmllbGQ+PGNvbW1lbnQgcGlubmVkPSJ0cnVlIiBoPSI4MCIgdz0iNDQ4Ij5UaGlzIHNlY3Rpb24gcmVxdWlyZXMgdHdvIHRvdWNoIHNlbnNvcnMuIENvbm5lY3QgdGhlbSB0byBCYW5rIDEgYW5kIHByZXNzIG9uZSBieSBvbmUgdG8gdHVybiBMRUQgZ3JlZW4uIElmIHRoZXkgYXJlIGJvdGggcHJlc3NlZCBhdCB0aGUgc2FtZSB0aW1lLCB0aGUgTEVEIHdpbGwgdHVybiBwdXJwbGUgYW5kIHRoZSBwcm9ncmFtIHdpbGwgc3RvcC48L2NvbW1lbnQ+PHZhbHVlIG5hbWU9IkJPT0wiPjxibG9jayB0eXBlPSJsb2dpY19uZWdhdGUiIGlkPSJyMl5uTmJ9K3Faej9qZDJYWlFNVyI+PHZhbHVlIG5hbWU9IkJPT0wiPjxibG9jayB0eXBlPSJsb2dpY19vcGVyYXRpb24iIGlkPSJmJUAvRG0xTC05anMueC8sOVhgMSI+PGZpZWxkIG5hbWU9Ik9QIj5BTkQ8L2ZpZWxkPjx2YWx1ZSBuYW1lPSJBIj48YmxvY2sgdHlwZT0ic2Vuc29yc19pc3RvdWNocHJlc3NlZCIgaWQ9Im9ScSMoan1tSzRwK2s4MkR3SWBNIj48dmFsdWUgbmFtZT0ic2Vuc29yIj48YmxvY2sgdHlwZT0ic2Vuc29yc19ueHR0b3VjaCIgaWQ9Ik1ZNFo2ZykqM2AtcUhqPzY2L3U3Ij48ZmllbGQgbmFtZT0ic2Vuc29yX3NlbGVjdG9yIj5CQVMxPC9maWVsZD48L2Jsb2NrPjwvdmFsdWU+PC9ibG9jaz48L3ZhbHVlPjx2YWx1ZSBuYW1lPSJCIj48YmxvY2sgdHlwZT0ic2Vuc29yc19pc3RvdWNocHJlc3NlZCIgaWQ9IkRXSVZqcnspI3U9RGs3bjdKcytmIj48dmFsdWUgbmFtZT0ic2Vuc29yIj48YmxvY2sgdHlwZT0ic2Vuc29yc19ldjN0b3VjaCIgaWQ9InRRL0Q9cl14Xm41ZWtTNjRJWWdgIj48ZmllbGQgbmFtZT0ic2Vuc29yX3NlbGVjdG9yIj5CQVMyPC9maWVsZD48L2Jsb2NrPjwvdmFsdWU+PC9ibG9jaz48L3ZhbHVlPjwvYmxvY2s+PC92YWx1ZT48L2Jsb2NrPjwvdmFsdWU+PHN0YXRlbWVudCBuYW1lPSJETyI+PGJsb2NrIHR5cGU9ImNvbnRyb2xzX2lmIiBpZD0iKk51elNZKVFlbGt3bFpaTlFkdVkiPjxtdXRhdGlvbiBlbHNlPSIxIj48L211dGF0aW9uPjx2YWx1ZSBuYW1lPSJJRjAiPjxibG9jayB0eXBlPSJzZW5zb3JzX2lzdG91Y2hwcmVzc2VkIiBpZD0iTFNqO2gwclM1YSw4TmNML2EhT18iPjx2YWx1ZSBuYW1lPSJzZW5zb3IiPjxibG9jayB0eXBlPSJzZW5zb3JzX254dHRvdWNoIiBpZD0iRmwlR0FAbWpMYjRhQTlsOXRLflQiPjxmaWVsZCBuYW1lPSJzZW5zb3Jfc2VsZWN0b3IiPkJBUzE8L2ZpZWxkPjwvYmxvY2s+PC92YWx1ZT48L2Jsb2NrPjwvdmFsdWU+PHN0YXRlbWVudCBuYW1lPSJETzAiPjxibG9jayB0eXBlPSJsZWRfY29udHJvbCIgaWQ9Ilk/a2pSQTkqIypZO10/TU5pWHUlIj48ZmllbGQgbmFtZT0ibGVkX3NlbGVjdG9yIj4xPC9maWVsZD48ZmllbGQgbmFtZT0iQ09MT1IiPiMzM2ZmMzM8L2ZpZWxkPjwvYmxvY2s+PC9zdGF0ZW1lbnQ+PHN0YXRlbWVudCBuYW1lPSJFTFNFIj48YmxvY2sgdHlwZT0ibGVkX2NvbnRyb2wiIGlkPSJMYUc1O1Yqe1p+LExkQT0wZmU2JSI+PGZpZWxkIG5hbWU9ImxlZF9zZWxlY3RvciI+MTwvZmllbGQ+PGZpZWxkIG5hbWU9IkNPTE9SIj4jZmYwMDAwPC9maWVsZD48L2Jsb2NrPjwvc3RhdGVtZW50PjxuZXh0PjxibG9jayB0eXBlPSJjb250cm9sc19pZiIgaWQ9Ijk0UGBsZVB4KFVfOmdtTmZlOS51Ij48bXV0YXRpb24gZWxzZT0iMSI+PC9tdXRhdGlvbj48dmFsdWUgbmFtZT0iSUYwIj48YmxvY2sgdHlwZT0ic2Vuc29yc19pc3RvdWNocHJlc3NlZCIgaWQ9IlEvRSlmRVU0K14wdHp9ZC1BQ3IvIj48dmFsdWUgbmFtZT0ic2Vuc29yIj48YmxvY2sgdHlwZT0ic2Vuc29yc19ldjN0b3VjaCIgaWQ9In1vZEk/YVF0MGVJJUdLZFVgfnA0Ij48ZmllbGQgbmFtZT0ic2Vuc29yX3NlbGVjdG9yIj5CQVMyPC9maWVsZD48L2Jsb2NrPjwvdmFsdWU+PC9ibG9jaz48L3ZhbHVlPjxzdGF0ZW1lbnQgbmFtZT0iRE8wIj48YmxvY2sgdHlwZT0ibGVkX2NvbnRyb2wiIGlkPSJ7VFJbYVJddXZxPy9gXlheayV9eSI+PGZpZWxkIG5hbWU9ImxlZF9zZWxlY3RvciI+MjwvZmllbGQ+PGZpZWxkIG5hbWU9IkNPTE9SIj4jMzNmZjMzPC9maWVsZD48L2Jsb2NrPjwvc3RhdGVtZW50PjxzdGF0ZW1lbnQgbmFtZT0iRUxTRSI+PGJsb2NrIHR5cGU9ImxlZF9jb250cm9sIiBpZD0iVmFzKDsubiNsaDg3N0w6M01AdGMiPjxmaWVsZCBuYW1lPSJsZWRfc2VsZWN0b3IiPjI8L2ZpZWxkPjxmaWVsZCBuYW1lPSJDT0xPUiI+I2ZmMDAwMDwvZmllbGQ+PC9ibG9jaz48L3N0YXRlbWVudD48bmV4dD48YmxvY2sgdHlwZT0ic3lzdGVtX3NsZWVwIiBpZD0iMHtxN0JdVXNoQ3diUz82REdBUnwiPjx2YWx1ZSBuYW1lPSJUSU1FIj48c2hhZG93IHR5cGU9Im1hdGhfbnVtYmVyIiBpZD0ifFRkUEEpOWhrd34xdlJQLCk6RWkiPjxmaWVsZCBuYW1lPSJOVU0iPjAuMTwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvc3RhdGVtZW50PjxuZXh0PjxibG9jayB0eXBlPSJsZWRfY29udHJvbCIgaWQ9InJsQ31bQCVUX1JVfEoyXi1KfiNEIj48ZmllbGQgbmFtZT0ibGVkX3NlbGVjdG9yIj4xPC9maWVsZD48ZmllbGQgbmFtZT0iQ09MT1IiPiM2NjAwY2M8L2ZpZWxkPjxuZXh0PjxibG9jayB0eXBlPSJsZWRfY29udHJvbCIgaWQ9InouPUp3KntyMm5oaDlOOCFlVT1RIj48ZmllbGQgbmFtZT0ibGVkX3NlbGVjdG9yIj4yPC9maWVsZD48ZmllbGQgbmFtZT0iQ09MT1IiPiM2NjAwY2M8L2ZpZWxkPjxuZXh0PjxibG9jayB0eXBlPSJzeXN0ZW1fc2xlZXAiIGlkPSIvemArYENJMERwTnNYanRubWVXWiI+PHZhbHVlIG5hbWU9IlRJTUUiPjxzaGFkb3cgdHlwZT0ibWF0aF9udW1iZXIiIGlkPSI0MF0xLCVoNl02MnU4Qm5BamZWVyI+PGZpZWxkIG5hbWU9Ik5VTSI+MjwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT48bmV4dD48YmxvY2sgdHlwZT0ibGVkX2NvbnRyb2wiIGlkPSIoISlgcUI3e20ufE5OcltaVWg9QyI+PGZpZWxkIG5hbWU9ImxlZF9zZWxlY3RvciI+MTwvZmllbGQ+PGZpZWxkIG5hbWU9IkNPTE9SIj4jMDAwMDAwPC9maWVsZD48bmV4dD48YmxvY2sgdHlwZT0ibGVkX2NvbnRyb2wiIGlkPSJhcFZPaCxKZUNVYiV7XXI/T1dHeCI+PGZpZWxkIG5hbWU9ImxlZF9zZWxlY3RvciI+MjwvZmllbGQ+PGZpZWxkIG5hbWU9IkNPTE9SIj4jMDAwMDAwPC9maWVsZD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjxibG9jayB0eXBlPSJ0ZXJtaW5hbF9wcmludGxuIiBpZD0ibUlJO0g4OHI3MGN8bFgwOUt1UW4iIHg9IjE4IiB5PSI5MjAiPjxjb21tZW50IHBpbm5lZD0idHJ1ZSIgaD0iNTEiIHc9IjMxMSI+U2NhbnMgdGhlIGRpc3RhbmNlIDUgdGltZXM8L2NvbW1lbnQ+PHZhbHVlIG5hbWU9InRleHQiPjxzaGFkb3cgdHlwZT0idGV4dCIgaWQ9IkpyQU8sLy5ZQXdzKnAjPzheXz00Ij48ZmllbGQgbmFtZT0iVEVYVCI+U3RhcnRpbmcgZGlzdGFuY2Ugc2Vuc29yPC9maWVsZD48L3NoYWRvdz48L3ZhbHVlPjxuZXh0PjxibG9jayB0eXBlPSJzZW5zb3JzX2V2M3VsdHJhc29uaWNzZXRtb2RlIiBpZD0iY3RddiE7OGI/OHtbcUx3fW95X3ciPjxmaWVsZCBuYW1lPSJtb2RlX3NlbGVjdG9yIj5ESVNUX0lOPC9maWVsZD48dmFsdWUgbmFtZT0ic2Vuc29yIj48YmxvY2sgdHlwZT0ic2Vuc29yc19ldjN1bHRyYXNvbmljIiBpZD0ifkJ9P1VPcHxXbE1OYEYsYS0taEQiPjxmaWVsZCBuYW1lPSJzZW5zb3Jfc2VsZWN0b3IiPkJCUzE8L2ZpZWxkPjwvYmxvY2s+PC92YWx1ZT48bmV4dD48YmxvY2sgdHlwZT0iY29udHJvbHNfcmVwZWF0X2V4dCIgaWQ9ImdeaXNwcT8tMHA2OnJsbTQyTGczIj48dmFsdWUgbmFtZT0iVElNRVMiPjxzaGFkb3cgdHlwZT0ibWF0aF9udW1iZXIiIGlkPSJJdVRqN3xiW2FsfGBKVX0lWlpgLiI+PGZpZWxkIG5hbWU9Ik5VTSI+NTwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT48c3RhdGVtZW50IG5hbWU9IkRPIj48YmxvY2sgdHlwZT0idGVybWluYWxfcHJpbnRsbiIgaWQ9InRZXnBfPU4lO3cya2NWcFF5TFNxIj48dmFsdWUgbmFtZT0idGV4dCI+PHNoYWRvdyB0eXBlPSJ0ZXh0IiBpZD0iV11iQSErI1Y7OH52UishRmt8WTsiPjxmaWVsZCBuYW1lPSJURVhUIj5TdGFydGluZyBkaXN0YW5jZSBzZW5zb3I8L2ZpZWxkPjwvc2hhZG93PjxibG9jayB0eXBlPSJ0ZXh0X2pvaW4iIGlkPSJNdnArIS1uZylRdmpUNnxzTXkzbCI+PG11dGF0aW9uIGl0ZW1zPSIyIj48L211dGF0aW9uPjx2YWx1ZSBuYW1lPSJBREQwIj48YmxvY2sgdHlwZT0ic2Vuc29yc19ldjN1bHRyYXNvbmljZ2V0dmFsdWUiIGlkPSI2eHAxQWZiKzIqLjYvRXU2dUJocCI+PHZhbHVlIG5hbWU9InNlbnNvciI+PGJsb2NrIHR5cGU9InNlbnNvcnNfZXYzdWx0cmFzb25pYyIgaWQ9Im9SaDhVdS53KVp4TT1mR3coMEY0Ij48ZmllbGQgbmFtZT0ic2Vuc29yX3NlbGVjdG9yIj5CQlMxPC9maWVsZD48L2Jsb2NrPjwvdmFsdWU+PC9ibG9jaz48L3ZhbHVlPjx2YWx1ZSBuYW1lPSJBREQxIj48YmxvY2sgdHlwZT0idGV4dCIgaWQ9ImNONzdBVFdedXorWEF+MEVRSD9QIj48ZmllbGQgbmFtZT0iVEVYVCI+IGluPC9maWVsZD48L2Jsb2NrPjwvdmFsdWU+PC9ibG9jaz48L3ZhbHVlPjxuZXh0PjxibG9jayB0eXBlPSJzeXN0ZW1fc2xlZXAiIGlkPSJZdH1dP2p4eU1KV2lwa349fEF7TSI+PHZhbHVlIG5hbWU9IlRJTUUiPjxzaGFkb3cgdHlwZT0ibWF0aF9udW1iZXIiIGlkPSJSVmZwQUg6dy9wOXJNSF14ZFJ7MiI+PGZpZWxkIG5hbWU9Ik5VTSI+MTwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT48L2Jsb2NrPjwvbmV4dD48L2Jsb2NrPjwvc3RhdGVtZW50PjwvYmxvY2s+PC9uZXh0PjwvYmxvY2s+PC9uZXh0PjwvYmxvY2s+PC94bWw+
dba9e6ff2acb61241c5dd24129e40952deb062b2b3238643e222f6c9b06fb69f
--END BLOCKS--
"""


from PiStorms import PiStorms
import time
import LegoDevices

psm = PiStorms()

nxttouch_BAS1 = LegoDevices.NXTTouchSensor("BAS1")

ev3touch_BAS2 = LegoDevices.EV3TouchSensor("BAS2")

ev3ultrasonic_BBS1 = LegoDevices.EV3UltrasonicSensor("BBS1")


psm.screen.drawDisplay('Sensor Demo', True)
psm.screen.termPrintln('NXT Touch Sensor at BAS1')
psm.screen.termPrintln('EV3 Touch Sensor at BAS2')
psm.screen.termPrintln('EV3 Ultrasonic Sensor at BBS1')
time.sleep(1)

# This section requires two touch sensors. Connect them to Bank 1
# and press one by one to turn LED green. If they are both pressed at
# the same time, the LED will turn purple and the program will stop.
while not (nxttouch_BAS1.isPressed() and ev3touch_BAS2.isPressed()):
  if nxttouch_BAS1.isPressed():
    psm.led(1, 51, 255, 51)
  else:
    psm.led(1, 255, 0, 0)
  if ev3touch_BAS2.isPressed():
    psm.led(2, 51, 255, 51)
  else:
    psm.led(2, 255, 0, 0)
  time.sleep(0.1)
psm.led(1, 102, 0, 204)
psm.led(2, 102, 0, 204)
time.sleep(2)
psm.led(1, 0, 0, 0)
psm.led(2, 0, 0, 0)

# Scans the distance 5 times
psm.screen.termPrintln('Starting distance sensor')
ev3ultrasonic_BBS1.setMode(LegoDevices.PS_SENSOR_MODE_EV3_ULTRASONIC_DIST_IN)
for count in range(5):
  psm.screen.termPrintln((str(ev3ultrasonic_BBS1.getDistance()) + str(' in')))
  time.sleep(1)
